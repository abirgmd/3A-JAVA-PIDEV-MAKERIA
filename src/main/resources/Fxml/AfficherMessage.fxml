<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.image.*?>
<?import javafx.scene.shape.*?>

<VBox alignment="TOP_CENTER" prefHeight="900.0" prefWidth="1500.0" spacing="10"
      style="-fx-padding: 15; -fx-background-color: #faeff6; -fx-font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;"
      xmlns="http://javafx.com/javafx" xmlns:fx="http://javafx.com/fxml"
      fx:controller="com.abircode.cruddp.Controller.AfficherMessageController">

    <!-- Barre d'outils unifiée avec recherche élargie -->
    <HBox alignment="CENTER" spacing="20" style="-fx-padding: 10 15; -fx-min-height: 50;">
        <!-- Élément gauche -->
        <Label fx:id="countLabel" text="Nombre de messages" style="-fx-font-size: 16px;"/>

        <!-- Barre de recherche élargie qui prend tout l'espace disponible -->
        <HBox alignment="CENTER_LEFT" spacing="10" HBox.hgrow="ALWAYS"
              style="-fx-background-color: #ffffff; -fx-background-radius: 12; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 6,0,0,2);">
            <TextField fx:id="searchField" promptText="Rechercher un message..."
                       style="-fx-background-radius: 12; -fx-border-width: 0; -fx-padding: 10 15; -fx-font-size: 16px;"
                       HBox.hgrow="ALWAYS"/>
            <Button fx:id="clearSearchBtn" text="✕"
                    style="-fx-background-color: transparent; -fx-font-size: 18; -fx-text-fill: #888; -fx-cursor: hand; -fx-padding: 5;"/>
        </HBox>

        <!-- Éléments droits -->
        <ComboBox fx:id="sortOptions" promptText="Trier par"
                  style="-fx-background-radius: 12; -fx-border-color: #a8d0e6; -fx-border-radius: 12; -fx-padding: 8 15; -fx-font-size: 14px; -fx-pref-width: 220;"/>
        <Button onAction="#ouvrirAjouterMessage" text="Ajouter un Message"
                style="-fx-background-color: #a8d0e6; -fx-text-fill: white; -fx-font-size: 16px; -fx-padding: 10 30; -fx-background-radius: 14; -fx-cursor: hand;"/>
    </HBox>

    <!-- Conteneur principal densifié -->
    <HBox spacing="10" VBox.vgrow="ALWAYS" style="-fx-padding: 5;">
        <!-- Colonne GIFs élargie au maximum -->
        <VBox prefWidth="350" maxWidth="350" alignment="TOP_CENTER" spacing="20"
              style="-fx-background-color: rgba(255,255,255,0.4); -fx-background-radius: 15; -fx-padding: 20 15; -fx-border-radius: 15; -fx-border-color: rgba(168,208,230,0.5); -fx-border-width: 1.5; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.15), 12, 0, 0, 0);">

            <StackPane>
                <Rectangle arcWidth="20" arcHeight="20" width="200" height="200"
                           style="-fx-fill: rgba(255,255,255,0.6); -fx-stroke: #a8d0e6; -fx-stroke-width: 1.5;"/>
                <ImageView fitWidth="180" fitHeight="180" preserveRatio="true">
                    <Image url="@../images/gif1.gif" />
                </ImageView>
            </StackPane>

            <StackPane>
                <Rectangle arcWidth="20" arcHeight="20" width="200" height="200"
                           style="-fx-fill: rgba(255,255,255,0.6); -fx-stroke: #a8d0e6; -fx-stroke-width: 1.5;"/>
                <ImageView fitWidth="180" fitHeight="180" preserveRatio="true">
                    <Image url="@../images/gif2.gif" />
                </ImageView>
            </StackPane>

            <StackPane>
                <Rectangle arcWidth="20" arcHeight="20" width="200" height="200"
                           style="-fx-fill: rgba(255,255,255,0.6); -fx-stroke: #a8d0e6; -fx-stroke-width: 1.5;"/>
                <ImageView fitWidth="180" fitHeight="180" preserveRatio="true">
                    <Image url="@../images/gif3.gif" />
                </ImageView>
            </StackPane>
        </VBox>

        <!-- Liste des messages ultra large -->
        <StackPane HBox.hgrow="ALWAYS" style="-fx-padding: 0 5;">
            <ListView fx:id="messagesList" prefWidth="1000" maxWidth="1000" prefHeight="750.0"
                      style="-fx-background-color: white; -fx-background-radius: 18; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 12,0,0,3);"/>
        </StackPane>

        <!-- Classement élargi -->
        <VBox prefWidth="350" maxWidth="350" style="-fx-background-color: white; -fx-background-radius: 18; -fx-padding: 25; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.12), 12,0,0,3);">
            <Label text="Classement des Membres Actifs" style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #4a148c; -fx-padding: 0 0 20 0;"/>
            <ScrollPane fitToWidth="true" style="-fx-background-color: transparent; -fx-padding: 0; -fx-background-radius: 12;">
                <VBox fx:id="usersRankingBox" spacing="15" style="-fx-padding: 5;"/>
            </ScrollPane>
        </VBox>
    </HBox>

    <!-- Pagination élargie -->
    <HBox fx:id="paginationBox" alignment="CENTER" spacing="20" style="-fx-padding: 15 0 20 0; -fx-min-height: 50;">
    </HBox>
</VBox>
